<es:transforms xmlns:es="urn:hpcc:esdl:script">
  <es:transform name="KermitReportOutOfBand" target="soap:Body/{$query}">
    <!--
    The log-as function name is the epitome of method-specific.

    It can be replaced by a shared script if the shared script contains a conditional for
    every method. However, some methods change the value based on request content, so a
    different method might have a much more complex implementation.

    It could be replaced in many cases by method-specific external variable or input
    definitions.
    -->
    <es:set-value target="_LogFunctionName" value="&apos;KertmitRpt&apos;"/>
  </es:transform>
  <es:transform name="KermitReportInBand" target="soap:Body/{$query}/{$request}">
    <!--
    This applies to only the report method, although as the original author I do know
    that the first part of the test would make transform safe to be shared with all
    service methods except OscarSearch.
    -->
    <es:if test="$internal_user=0 and $test_user=1">
      <es:set-value target="Row/Options/IsOnline" value="&apos;1&apos;"/>
    </es:if>
  </es:transform>
</es:transforms>
